{# THE DETAILS PAGE.

schema for content args:

_navbar => (optional) The navbar configuration, if any.
names => An array of names, with the first element being the primary name, and
         other elements after this being alternative names.
properties => An associate array of property names and values to populate the
         details table with.
links => (optional) An associate array of external links in the form
         <name, href> which is used to populate the external links panel.
#}

{% extends "_page.html" %}

{% set _page = {
     "title": names[0]
   }
%}

{% if _navbar is defined %}
  {% set _navbar = _navbar|merge({"search": true}) %}
{% else %}
  {% set _navbar = { "search": true } %}
{% endif %}

{% if _title is defined %}
  {% set _title = _title|merge({ "heading": _page.title }) %}
{% else %}
  {% set _title = { "heading": _page.title } %}
{% endif %}

{% block content %}

<div id="details">

  <div class="row">
    <div class="col-md-8">
      <table class="table table-striped table-bordered">

        <!-- Table body -->
        <tbody>

          {% for name in names %}
          <tr>
            {% if loop.first %}
            <td>Name:</td>
            {% else %}
            <td>Alternative name:</td>
            {% endif %}
            <td>{{ name }}</td>
          </tr>
          {% endfor %}

          {% for key, value in properties %}
          <tr>
            <td>{{ key }}</td>
            <td>{{ value }}</td>
          </tr>
          {% endfor %}

        </tbody>
      </table>

    </div> <!-- /.col-md-8 -->

    <div class="col-md-4">

      {% if links is defined%}
      <!-- External links section -->
      <div class="panel panel-primary panel-extern">
        <div class="panel-heading">
          <h3 class="panel-title">External Links</h3>
        </div>

        <div class="panel-body">
          <ul class="panel-link-list">

            {% for name, href in links %}
            <li>
              <a href="{{ href }}"
                 class="btn btn-success btn-block">
                {{ name }}
              </a>
            </li>
            {% endfor %}

          </ul>
        </div>
      </div> <!-- /.panel -->
      {% endif %}

      <!-- Reference text section -->
      <div class="panel panel-primary panel-reference">
        <div class="panel-heading">
          <h3 class="panel-title">Reference this page</h3>
        </div>

        <div class="panel-body">
          <blockquote>pip-db. (2012)
            <i>Protein Isoelectric Point Database</i>, Alkaline
            phosphatese. Available from:
            &lt;http://www.pip-db.com/r?id=12023&gt;. [Cited 10 July
            2013].
          </blockquote>
        </div>
      </div> <!-- /.panel -->

    </div> <!-- /.col-md-4 -->

  </div> <!-- /.row -->

  <div class="row">
    <div class="col-md-12">
      <!-- Record metadata -->
      <div class="meta-holder">
        <ul class="meta">
          <li>Added on March 10th 2012.</li>
          <li>Last edited 6 hours ago.</li>
        </ul>
      </div>
    </div> <!-- /.col-md-12 -->
  </div> <!-- /.row -->

</div> <!-- /#details -->

{% endblock %}
