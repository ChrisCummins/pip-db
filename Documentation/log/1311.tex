\section{November 2013 \hrulefill}

\subsection{Saturday 2nd}
Read about ionicons, which are a useful set of MIT licensed icons that will be
useful when designing the UI \cite{Sperry2013}.

\subsection{Sunday 3rd}
Began work on implementing static page designs based on D1 mockups, using
Bootstrap.

\paragraph{TODO}
\begin{itemize}
\item Homepage - DONE
\item Advanced Search - DONE
\item Search results
\item Details page
\item Login page
\item Add data
\end{itemize}

\subsection{Monday 4th}
Incorporated Bootstrap Less CSS sources directly into project repository so that
I can hack deeply on the frontend framework rather than just monkey-patch it.

\subsection{Tuesday 5th}
Completed basic sketches for all page mockups. Next task is to tidy up the
stylesheets and incorporate it better into the Boostrap sources.

\paragraph{Le grande plan for great success}
\begin{enumerate}
\item Configure Bootstrap theme
\item Port D1 mockups to Boostrap components
\item Add MySQL user accounts backend
\begin{itemize}
\item Deliverable: setup.php which creates MySQL tables
\end{itemize}
\item Add PHP user accounts controller
\begin{itemize}
\item Deliverable: API with unit tests
\end{itemize}
\item Link frontend with controller for user accounts
\begin{itemize}
\item Deliverable: Functional login page and ubar
\end{itemize}
\item Add MySQL payload backend
\begin{itemize}
\item Deliverable: setup.php which creates MySQL tables
\end{itemize}
\item Add PHP payload controller
\begin{itemize}
\item Deliverable: API with unit tests
\end{itemize}
\item Link frontend with controller for payload
\begin{itemize}
\item Deliverable: Functional details pages
\end{itemize}
\item Develop search controller
\begin{itemize}
\item Deliverable: Functional advanced search page
\end{itemize}
\item Further search controller development
\begin{itemize}
\item Deliverable: inline search component
\end{itemize}
\end{enumerate}

\subsection{Wednesday 6th}
Added arguments to configure in the form \texttt{--enable-feature} which can be
used for enabling minifying, content hashing, local exporting, etc. Used Cogl's
configure.ac as a template for the refactors.

\paragraph{TODO}
\begin{itemize}
\item Research formal HCI methods for web design. Screen recording software for
  user testing?
\end{itemize}

\paragraph{Notes for next meeting with Ian}
\begin{itemize}
\item Build system - le grande demonstration. Will write blog post detailing how
  it works/how to use it.
\item Frontend - Bootstrap, using Less CSS sources.
\item D1 mockups - static prototypes.
\item Next progress - the ``grande plan for great success''.
\end{itemize}

\subsection{Thursday 7th}
Incorporated the site style into Bootstrap, and defined the first two PHP
functions:

\begin{verbatim}
function get_header( $inline_search = false, $value = null,
                     $login_only = false );

function get_footer();
\end{verbatim}

\subsection{Friday 8th}
\paragraph{Notes from meeting with Ian} The theme of this week's meeting is: PROCESS, PROCESS, PROCESS.
\begin{itemize}
\item I need a more definite set of goals for this construction phase.
\item Bring a copy of the Gantt chart to each meeting.
\item Make more constructive notes on the research and planning work done.
\end{itemize}

\paragraph{Notes for next meeting with Ian}
\begin{itemize}
\item HCI - The next round of design work is at the start of next term. The
  remainder of effort this term will be focused on implementation, although I
  will still be checking design with Darren in the meantime.
\item Software architecture planning - Discuss analysis of WordPress, previous
  FYP project, dataset analysis, and database designs.
\item Development plan - Le grande 8 step plan.
\item Development process - show the GitHub issue tracker and milestones. Issues
  are created on a ``as needed'' basis, hence the second term milestones have
  nothing. Show \texttt{./tools/worflow} and development flow diagram.
\end{itemize}

\paragraph{TODO}
\begin{itemize}
\item Complete issues for `Draft Project Plan submission'.
\item Make a write-up of analysis of WordPress source code, previous FYP
  sources, and any other similar projects.
\item Further research of EBI.
\item Research PHP templating.
\end{itemize}

\paragraph{Notes on WordPress} found a detailed description of the
WordPress database design \cite{WordPressND}. There is also detailed
documentation for all of the APIs \cite{WordPressNDa}.
\begin{itemize}
\item There are filesystem and database APIs to completely abstract the
  underlying system. The user should never have to write system or MySQL calls.
\item There is a global \$wpdb variable which is used to talk to the WordPress
  database. API:
\begin{verbatim}
    $wpdb->delete( $table, $where, $where_format = null );
    $wpdb->get_col( 'query', column_offset );
    $wpdb->get_results( 'query', output_type );
    $wpdb->get_row('query', output_type, row_offset);
    $wpdb->get_var( 'query', column_offset, row_offset );
    $wpdb->insert( $table, $data, $format );
    $wpdb->query('query');
    $wpdb->replace( $table, $data, $format );
    $wpdb->update( $table, $data, $where, $format = null, $where_format = null );
    $wpdb->show_errors();
    $wpdb->hide_errors();
    $wpdb->get_col_info('type', offset);
    $wpdb->flush();
\end{verbatim}
\item ID fields in each table are prefixed with the table name and are of type
  BIGINT(20).
\item A \texttt{wp\_options} table stores the settings for the site.
\item A file \texttt{wp-admin/includes/schema.php} contains the database
  information and description.
\end{itemize}

\paragraph{PHP best practises} Read up on how PHP is not object orientated
\cite{Kimsal2011}, and PHP templating practises \cite{Rakowski2011}.

\subsection{Saturday 10th}
\paragraph{Notes on last FYP} 2533 lines of PHP. File structure:
\begin{verbatim}
-rw-r--r-- 1 chris chris  465 Dec 21  2011 ajax.js
-rw-r--r-- 1 chris chris 1.9K Mar 22  2012 ajax.php
-rw-r--r-- 1 chris chris  311 Mar 23  2012 back-up.php
-rw-r--r-- 1 chris chris 3.6K Apr  3  2012 backup.php
-rw-r--r-- 1 chris chris    0 Mar 23  2012 backup.sql
-rw-r--r-- 1 chris chris  238 Apr 20  2012 bottom.php
-rw-r--r-- 1 chris chris  110 Sep 10  2012 db-details.php
-rw-r--r-- 1 chris chris  15K Apr 25  2012 display.php
-rw-r--r-- 1 chris chris 2.8K Apr 20  2012 download.php
-rw-r--r-- 1 chris chris 1.1K Feb  6  2012 funcs.php
drwxr-xr-x 2 chris chris 4.0K Apr  3  2012 images
-rw-r--r-- 1 chris chris 5.3K Mar 22  2012 index.php
drwxr-xr-x 2 chris chris 4.0K Apr 25  2012 js
-rw-r--r-- 1 chris chris 7.7K Apr 16  2012 login.php
-rw-r--r-- 1 chris chris 1.8K Feb 15  2012 protein.php
-rw-r--r-- 1 chris chris 3.1K Mar 14  2012 record.php
-rw-r--r-- 1 chris chris 7.7K Apr 16  2012 restore.php
-rw-r--r-- 1 chris chris  24K Apr 30  2012 search.php
-rw-r--r-- 1 chris chris 4.4K Mar 22  2012 style.css
-rw-r--r-- 1 chris chris 3.3K Apr 20  2012 top.php
-rw-r--r-- 1 chris chris  22K Apr 20  2012 upload.php
drwxr-xr-x 2 chris chris 4.0K Sep 10  2012 uploads

./images:
total 620K
-rw-r--r-- 1 chris chris 1.4K Apr  3  2012 homeico.png
-rw-r--r-- 1 chris chris 7.4K Apr  3  2012 home.png
-rw-r--r-- 1 chris chris  88K Feb 10  2012 logo.png
-rw-r--r-- 1 chris chris 486K Feb  8  2012 logo.psd
-rw-r--r-- 1 chris chris  31K Jan 16  2012 randprot.png

./js:
total 108K
-rw-r--r-- 1 chris chris  92K Jan 17  2012 jquery-1.7.1.min.js
-rw-r--r-- 1 chris chris 5.3K Apr 25  2012 jquery.js
-rw-r--r-- 1 chris chris 5.3K Apr 25  2012 jquery.php

./uploads:
total 2.5M
-rw-r--r-- 1 chris chris 553K Mar 13  2012 database_egle_bunkute2.csv
-rw-r--r-- 1 chris chris 1.1M Mar 13  2012 pidb_1981.csv
-rw-r--r-- 1 chris chris  26K Mar 13  2012 pidb_1995.csv
-rw-r--r-- 1 chris chris 903K Mar 13  2012 pidb_brenda.csv
\end{verbatim}

\paragraph{top.php}
\begin{enumerate}
\item Sets the session
\item Connects to mysql
\item Sets a \texttt{\$root\_dir} variable
\item Prints HTML header
\end{enumerate}

\paragraph{funcs.php} Defines \texttt{get\_record(\$record\_if)}.

\paragraph{bottom.php} Prints out a page footer and closes MySQL connection.

\paragraph{index.php}
\begin{enumerate}
\item Include \texttt{top.php}
\item Output page contents with inline PHP logic
\item Connects to mysql
\end{enumerate}

\paragraph{search.php} 515 lines of intermingled MySQL commands, PHP logic and
HTML.

\paragraph{General notes}
\begin{itemize}
\item Multiple copies of constants scattered throughout sources
\item Spaghetti code source files - a mixture of inline PHP and HTML.
\item MySQL commands embedded into page sources - no MVC separation.
\end{itemize}
